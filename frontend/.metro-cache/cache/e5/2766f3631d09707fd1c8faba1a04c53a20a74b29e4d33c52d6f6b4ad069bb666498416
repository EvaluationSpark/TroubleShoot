{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"expo-crypto","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":38,"index":187}}],"key":"+Akla+LrhuGGU54C9zXxLPlFUv4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/contexts/UserContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  exports.UserProvider = UserProvider;\n  exports.useUser = useUser;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _expoCrypto = require(_dependencyMap[2], \"expo-crypto\");\n  var Crypto = _interopNamespace(_expoCrypto);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const UserContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const USER_ID_KEY = '@fixintel_user_id';\n  function UserProvider({\n    children\n  }) {\n    _s();\n    const [userId, setUserIdState] = (0, _react.useState)('');\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadOrCreateUserId();\n    }, []);\n    const loadOrCreateUserId = async () => {\n      try {\n        // Try to load existing user ID\n        let storedUserId = await AsyncStorage.default.getItem(USER_ID_KEY);\n        if (!storedUserId) {\n          // Generate a new unique user ID using expo-crypto\n          const randomBytes = await Crypto.getRandomBytesAsync(16);\n          storedUserId = Array.from(randomBytes).map(b => b.toString(16).padStart(2, '0')).join('');\n\n          // Save it for future use\n          await AsyncStorage.default.setItem(USER_ID_KEY, storedUserId);\n          console.log('[User] Created new user ID:', storedUserId);\n        } else {\n          console.log('[User] Loaded existing user ID:', storedUserId);\n        }\n        setUserIdState(storedUserId);\n      } catch (error) {\n        console.error('[User] Error loading/creating user ID:', error);\n        // Fallback to a timestamp-based ID\n        const fallbackId = `user_${Date.now()}`;\n        setUserIdState(fallbackId);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const setUserId = async newId => {\n      try {\n        await AsyncStorage.default.setItem(USER_ID_KEY, newId);\n        setUserIdState(newId);\n      } catch (error) {\n        console.error('[User] Error saving user ID:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(UserContext.Provider, {\n      value: {\n        userId,\n        setUserId,\n        isLoading\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }, this);\n  }\n  _s(UserProvider, \"GrUqTh8Abt0DUkLb4CbwMJ6wXUs=\");\n  _c = UserProvider;\n  function useUser() {\n    _s2();\n    const context = (0, _react.useContext)(UserContext);\n    if (context === undefined) {\n      throw new Error('useUser must be used within a UserProvider');\n    }\n    return context;\n  }\n  _s2(useUser, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _default = UserContext;\n  var _c;\n  $RefreshReg$(_c, \"UserProvider\");\n});","lineCount":115,"map":[[30,2,77,0,"Object"],[30,8,77,0],[30,9,77,0,"defineProperty"],[30,23,77,0],[30,24,77,0,"exports"],[30,31,77,0],[31,4,77,0,"enumerable"],[31,14,77,0],[32,4,77,0,"get"],[32,7,77,0],[32,18,77,0,"get"],[32,19,77,0],[33,6,77,0],[33,13,77,0,"_default"],[33,21,77,0],[34,4,77,0],[35,2,77,0],[36,2,15,0,"exports"],[36,9,15,0],[36,10,15,0,"UserProvider"],[36,22,15,0],[36,25,15,0,"UserProvider"],[36,37,15,0],[37,2,69,0,"exports"],[37,9,69,0],[37,10,69,0,"useUser"],[37,17,69,0],[37,20,69,0,"useUser"],[37,27,69,0],[38,2,1,0],[38,6,1,0,"_react"],[38,12,1,0],[38,15,1,0,"require"],[38,22,1,0],[38,23,1,0,"_dependencyMap"],[38,37,1,0],[39,2,2,0],[39,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[39,42,2,0],[39,45,2,0,"require"],[39,52,2,0],[39,53,2,0,"_dependencyMap"],[39,67,2,0],[40,2,2,0],[40,6,2,0,"AsyncStorage"],[40,18,2,0],[40,21,2,0,"_interopDefault"],[40,36,2,0],[40,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[40,73,2,0],[41,2,3,0],[41,6,3,0,"_expoCrypto"],[41,17,3,0],[41,20,3,0,"require"],[41,27,3,0],[41,28,3,0,"_dependencyMap"],[41,42,3,0],[42,2,3,0],[42,6,3,0,"Crypto"],[42,12,3,0],[42,15,3,0,"_interopNamespace"],[42,32,3,0],[42,33,3,0,"_expoCrypto"],[42,44,3,0],[43,2,3,38],[43,6,3,38,"_reactJsxDevRuntime"],[43,25,3,38],[43,28,3,38,"require"],[43,35,3,38],[43,36,3,38,"_dependencyMap"],[43,50,3,38],[44,2,11,0],[44,8,11,6,"UserContext"],[44,19,11,17],[44,35,11,20],[44,39,11,20,"createContext"],[44,45,11,33],[44,46,11,33,"createContext"],[44,59,11,33],[44,61,11,63,"undefined"],[44,70,11,72],[44,71,11,73],[45,2,13,0],[45,8,13,6,"USER_ID_KEY"],[45,19,13,17],[45,22,13,20],[45,41,13,39],[46,2,15,7],[46,11,15,16,"UserProvider"],[46,23,15,28,"UserProvider"],[46,24,15,29],[47,4,15,31,"children"],[48,2,15,71],[48,3,15,72],[48,5,15,74],[49,4,15,74,"_s"],[49,6,15,74],[50,4,16,2],[50,10,16,8],[50,11,16,9,"userId"],[50,17,16,15],[50,19,16,17,"setUserIdState"],[50,33,16,31],[50,34,16,32],[50,37,16,35],[50,41,16,35,"useState"],[50,47,16,43],[50,48,16,43,"useState"],[50,56,16,43],[50,58,16,52],[50,60,16,54],[50,61,16,55],[51,4,17,2],[51,10,17,8],[51,11,17,9,"isLoading"],[51,20,17,18],[51,22,17,20,"setIsLoading"],[51,34,17,32],[51,35,17,33],[51,38,17,36],[51,42,17,36,"useState"],[51,48,17,44],[51,49,17,44,"useState"],[51,57,17,44],[51,59,17,45],[51,63,17,49],[51,64,17,50],[52,4,19,2],[52,8,19,2,"useEffect"],[52,14,19,11],[52,15,19,11,"useEffect"],[52,24,19,11],[52,26,19,12],[52,32,19,18],[53,6,20,4,"loadOrCreateUserId"],[53,24,20,22],[53,25,20,23],[53,26,20,24],[54,4,21,2],[54,5,21,3],[54,7,21,5],[54,9,21,7],[54,10,21,8],[55,4,23,2],[55,10,23,8,"loadOrCreateUserId"],[55,28,23,26],[55,31,23,29],[55,37,23,29,"loadOrCreateUserId"],[55,38,23,29],[55,43,23,41],[56,6,24,4],[56,10,24,8],[57,8,25,6],[58,8,26,6],[58,12,26,10,"storedUserId"],[58,24,26,22],[58,27,26,25],[58,33,26,31,"AsyncStorage"],[58,45,26,43],[58,46,26,43,"default"],[58,53,26,43],[58,54,26,44,"getItem"],[58,61,26,51],[58,62,26,52,"USER_ID_KEY"],[58,73,26,63],[58,74,26,64],[59,8,28,6],[59,12,28,10],[59,13,28,11,"storedUserId"],[59,25,28,23],[59,27,28,25],[60,10,29,8],[61,10,30,8],[61,16,30,14,"randomBytes"],[61,27,30,25],[61,30,30,28],[61,36,30,34,"Crypto"],[61,42,30,40],[61,43,30,41,"getRandomBytesAsync"],[61,62,30,60],[61,63,30,61],[61,65,30,63],[61,66,30,64],[62,10,31,8,"storedUserId"],[62,22,31,20],[62,25,31,23,"Array"],[62,30,31,28],[62,31,31,29,"from"],[62,35,31,33],[62,36,31,34,"randomBytes"],[62,47,31,45],[62,48,31,46],[62,49,32,11,"map"],[62,52,32,14],[62,53,32,15,"b"],[62,54,32,16],[62,58,32,20,"b"],[62,59,32,21],[62,60,32,22,"toString"],[62,68,32,30],[62,69,32,31],[62,71,32,33],[62,72,32,34],[62,73,32,35,"padStart"],[62,81,32,43],[62,82,32,44],[62,83,32,45],[62,85,32,47],[62,88,32,50],[62,89,32,51],[62,90,32,52],[62,91,33,11,"join"],[62,95,33,15],[62,96,33,16],[62,98,33,18],[62,99,33,19],[64,10,35,8],[65,10,36,8],[65,16,36,14,"AsyncStorage"],[65,28,36,26],[65,29,36,26,"default"],[65,36,36,26],[65,37,36,27,"setItem"],[65,44,36,34],[65,45,36,35,"USER_ID_KEY"],[65,56,36,46],[65,58,36,48,"storedUserId"],[65,70,36,60],[65,71,36,61],[66,10,37,8,"console"],[66,17,37,15],[66,18,37,16,"log"],[66,21,37,19],[66,22,37,20],[66,51,37,49],[66,53,37,51,"storedUserId"],[66,65,37,63],[66,66,37,64],[67,8,38,6],[67,9,38,7],[67,15,38,13],[68,10,39,8,"console"],[68,17,39,15],[68,18,39,16,"log"],[68,21,39,19],[68,22,39,20],[68,55,39,53],[68,57,39,55,"storedUserId"],[68,69,39,67],[68,70,39,68],[69,8,40,6],[70,8,42,6,"setUserIdState"],[70,22,42,20],[70,23,42,21,"storedUserId"],[70,35,42,33],[70,36,42,34],[71,6,43,4],[71,7,43,5],[71,8,43,6],[71,15,43,13,"error"],[71,20,43,18],[71,22,43,20],[72,8,44,6,"console"],[72,15,44,13],[72,16,44,14,"error"],[72,21,44,19],[72,22,44,20],[72,62,44,60],[72,64,44,62,"error"],[72,69,44,67],[72,70,44,68],[73,8,45,6],[74,8,46,6],[74,14,46,12,"fallbackId"],[74,24,46,22],[74,27,46,25],[74,35,46,33,"Date"],[74,39,46,37],[74,40,46,38,"now"],[74,43,46,41],[74,44,46,42],[74,45,46,43],[74,47,46,45],[75,8,47,6,"setUserIdState"],[75,22,47,20],[75,23,47,21,"fallbackId"],[75,33,47,31],[75,34,47,32],[76,6,48,4],[76,7,48,5],[76,16,48,14],[77,8,49,6,"setIsLoading"],[77,20,49,18],[77,21,49,19],[77,26,49,24],[77,27,49,25],[78,6,50,4],[79,4,51,2],[79,5,51,3],[80,4,53,2],[80,10,53,8,"setUserId"],[80,19,53,17],[80,22,53,20],[80,28,53,27,"newId"],[80,33,53,40],[80,37,53,45],[81,6,54,4],[81,10,54,8],[82,8,55,6],[82,14,55,12,"AsyncStorage"],[82,26,55,24],[82,27,55,24,"default"],[82,34,55,24],[82,35,55,25,"setItem"],[82,42,55,32],[82,43,55,33,"USER_ID_KEY"],[82,54,55,44],[82,56,55,46,"newId"],[82,61,55,51],[82,62,55,52],[83,8,56,6,"setUserIdState"],[83,22,56,20],[83,23,56,21,"newId"],[83,28,56,26],[83,29,56,27],[84,6,57,4],[84,7,57,5],[84,8,57,6],[84,15,57,13,"error"],[84,20,57,18],[84,22,57,20],[85,8,58,6,"console"],[85,15,58,13],[85,16,58,14,"error"],[85,21,58,19],[85,22,58,20],[85,52,58,50],[85,54,58,52,"error"],[85,59,58,57],[85,60,58,58],[86,6,59,4],[87,4,60,2],[87,5,60,3],[88,4,62,2],[88,24,63,4],[88,28,63,4,"_reactJsxDevRuntime"],[88,47,63,4],[88,48,63,4,"jsxDEV"],[88,54,63,4],[88,56,63,5,"UserContext"],[88,67,63,16],[88,68,63,17,"Provider"],[88,76,63,25],[89,6,63,26,"value"],[89,11,63,31],[89,13,63,33],[90,8,63,35,"userId"],[90,14,63,41],[91,8,63,43,"setUserId"],[91,17,63,52],[92,8,63,54,"isLoading"],[93,6,63,64],[93,7,63,66],[94,6,63,66,"children"],[94,14,63,66],[94,16,64,7,"children"],[95,4,64,15],[96,6,64,15,"fileName"],[96,14,64,15],[96,16,64,15,"_jsxFileName"],[96,28,64,15],[97,6,64,15,"lineNumber"],[97,16,64,15],[98,6,64,15,"columnNumber"],[98,18,64,15],[99,4,64,15],[99,11,65,26],[99,12,65,27],[100,2,67,0],[101,2,67,1,"_s"],[101,4,67,1],[101,5,15,16,"UserProvider"],[101,17,15,28],[102,2,15,28,"_c"],[102,4,15,28],[102,7,15,16,"UserProvider"],[102,19,15,28],[103,2,69,7],[103,11,69,16,"useUser"],[103,18,69,23,"useUser"],[103,19,69,23],[103,21,69,26],[104,4,69,26,"_s2"],[104,7,69,26],[105,4,70,2],[105,10,70,8,"context"],[105,17,70,15],[105,20,70,18],[105,24,70,18,"useContext"],[105,30,70,28],[105,31,70,28,"useContext"],[105,41,70,28],[105,43,70,29,"UserContext"],[105,54,70,40],[105,55,70,41],[106,4,71,2],[106,8,71,6,"context"],[106,15,71,13],[106,20,71,18,"undefined"],[106,29,71,27],[106,31,71,29],[107,6,72,4],[107,12,72,10],[107,16,72,14,"Error"],[107,21,72,19],[107,22,72,20],[107,66,72,64],[107,67,72,65],[108,4,73,2],[109,4,74,2],[109,11,74,9,"context"],[109,18,74,16],[110,2,75,0],[111,2,75,1,"_s2"],[111,5,75,1],[111,6,69,16,"useUser"],[111,13,69,23],[112,2,77,0],[112,6,77,0,"_default"],[112,14,77,0],[112,17,77,15,"UserContext"],[112,28,77,26],[113,2,77,27],[113,6,77,27,"_c"],[113,8,77,27],[114,2,77,27,"$RefreshReg$"],[114,14,77,27],[114,15,77,27,"_c"],[114,17,77,27],[115,0,77,27],[115,3]],"functionMap":{"names":["<global>","UserProvider","useEffect$argument_0","loadOrCreateUserId","Array.from.map$argument_0","setUserId","useUser"],"mappings":"AAA;OCc;YCI;GDE;6BEE;eCS,oCD;GFmB;oBIE;GJO;CDO;OME;CNM"},"hasCjsExports":false},"type":"js/module"}]}